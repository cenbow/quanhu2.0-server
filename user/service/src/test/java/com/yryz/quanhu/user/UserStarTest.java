package com.yryz.quanhu.user;

import java.util.List;

import com.yryz.common.utils.SplitterUtils;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.test.context.ContextConfiguration;
import org.springframework.test.context.junit4.SpringRunner;

import com.alibaba.dubbo.config.annotation.Reference;
import com.yryz.common.response.PageList;
import com.yryz.common.response.Response;
import com.yryz.common.utils.JsonUtils;
import com.yryz.quanhu.user.dto.StarAuthInfo;
import com.yryz.quanhu.user.dto.StarAuthParamDTO;
import com.yryz.quanhu.user.service.UserOperateApi;
import com.yryz.quanhu.user.service.UserStarApi;
import com.yryz.quanhu.user.vo.MyInviterVO;
import com.yryz.quanhu.user.vo.StarInfoVO;

@RunWith(SpringRunner.class)
@SpringBootTest
public class UserStarTest {
	@Reference
	UserStarApi starApi;
	@Autowired
	UserOperateApi operateApi;
	//@Test
	public void save(){
		String userId = "724011759597371392,726904523150958592,726907134491074560,727061873573347328,727447149320273920,727909974996672512,728921199276711936,729669966696603648,729671306726400000,729748409979297792,729840906395049984,729841971546939392,729867054155956224,729869321898680320,729872671973171200,729894078090174464,729895040162848768,729905210645413888,729909574332186624,729914419055296512,730180329070518272,730921949663453184,730922963275735040,730938167459962880,730939490309890048,730940641361125376,730941139577331712,730943665018101760,730957219935453184,730974039027384320,730978024757035008,730988916794097664,731021214948163584,731154152775909376,731176469425979392,731177139440877568,731181932624379904,731189680745381888,731202445388185600,731214728994652160,731215347469942784,731228816487383040,731257644307873792,731271319483744256,731323477566939136,731333441891065856,731331225687990272,731339248686497792,731348989672726528,731519998090690560,732736435908280320,732957317487091712,732959344711655424,732985870429003776,736957598487642112,736963800420417536,737091498388062208,737162777665495040,737232613833695232,737237750614581248,737239863738499072,737249037788635136,737249982681440256,737251236811898880,737409858544099328,737469249351843840,738323707325939712,738422165156233216,738604752805920768,738706217113600000,738710065404297216,738715270904381440,738725166509309952,738729736354512896,738732278974873600,738738927584526336,738744700020572160,738768597218607104,738839567258206208,738902995334955008,738931462378192896,738931462378192897,738931462378192898,738931479558062080,738931479558062081,738931479558062082,738931479558062083,738931479558062084,738931479558062085,738931479558062086,738931479558062087,738931479558062088,738931479558062089,738931479558062090,738931479558062091,738931479558062092,738931479558062093,738931479558062094,738931496737931264,738931496737931265,738931496737931266,738931496737931267,738931496737931268,738931496737931269,738931496737931270,738931496737931271,738931513917800448,738931513917800449,738931513917800450,738931513917800451,738939296398819328,738939966413717504,738940292831232000,738940928486391808,738941100285083648,738941237724037120,738941340803252224,738941443882467328,738941529781813248,738941581321420800,738941701580505088,738941753120112640,738941787479851008,738941839019458560,738941890559066112,738941942098673664,738941993638281216,738942062357757952,738942234156449792,738943213408993280";
		List<String> splitToList = SplitterUtils.ID_SPLITTER.splitToList(userId);
		for (String id : splitToList) {
			StarAuthInfo info = new StarAuthInfo();
			info.setAuthWay((byte)10);
			info.setAuthType((byte)10);
			info.setAppId("vebff12m1762");
			info.setUserId(id);
			info.setRealName("呵呵");
			info.setIdCard("421281198902045756");
			info.setLocation(id + "位置");
			info.setTradeField(id + "haha");
			info.setResourceDesc("哒呵呵哒呵呵哒呵呵哒");
			info.setContactCall("15088052677");
			Response<Boolean> response = starApi.save(info);
			System.out.println(JsonUtils.toFastJson(response));
		}

	}
	
	//@Test
	public void starRecommonedList(){
		StarAuthParamDTO paramDTO = new StarAuthParamDTO();
		paramDTO.setCurrentPage(1);
		paramDTO.setPageSize(10);
		paramDTO.setUserId(null);
		Response<PageList<StarInfoVO>> response = starApi.starList(paramDTO);
		System.out.println(JsonUtils.toFastJson(response));
	}

	//@Test
	public void labelStarListTest(){
		StarAuthParamDTO paramDTO = new StarAuthParamDTO();
		paramDTO.setCategoryId(13L);
		paramDTO.setCurrentPage(1);
		paramDTO.setPageSize(10);
		paramDTO.setUserId(727061873573347328L);
		Response<PageList<StarInfoVO>> response = starApi.labelStarList(paramDTO);
		System.out.println("labelStarListTest: " + JsonUtils.toFastJson(response));
	}
	
	@Test
	public void getInviter(){
		Response<MyInviterVO> response = operateApi.getMyInviter(738943677265461248l, 10, null);
		System.out.println(JsonUtils.toFastJson(response));
	}
}
